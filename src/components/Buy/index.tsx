"use client";

import React, { useState } from "react";
import styles from "./buy.module.css";

interface Info {
  images: string[];
  title: string;
  info: string;
  prices: Map<string, string>;
}

export default function BuyComponent({ images, title, info, prices }: Info) {
  const [selectedSize, setSelectedSize] = useState<string| undefined>(prices.keys().next().value);
  const [selectedImage, setSelectedImage] = useState<string>(images[0]);

  return (
    <>
      <div className={styles.container}>
        {/* Left Section: Image Thumbnails */}
        <div className={styles.thumbnailContainer}>
          {images.map((image, index) => (
            <img
              key={index}
              src={image}
              alt={`Thumbnail ${index + 1}`}
              className={styles.thumbnail}
              onClick={() => setSelectedImage(image)}
            />
          ))}
        </div>

        {/* Main Image */}
        <img src={selectedImage} className={styles.mainImage} alt="Selected Image" />

        {/* Right Section: Product Details */}
        <div className={styles.detailsContainer}>
          <h1 className={styles.title}>{title}</h1>
          <p className={styles.info}>{info}</p>

          {/* Price Range */}
          <div className={styles.priceContainer}>
            <strong className={styles.priceLabel}>Price</strong>
            <p className={styles.priceValue}>
              ${selectedSize ? prices.get(selectedSize) : "Select a size"}
            </p>
          </div>

          {/* Size Selection */}
          <div className={styles.sizeContainer}>
            <strong className={styles.sizeLabel}>Select Size</strong>
            <div className={styles.sizeButtons}>
              {Array.from(prices.keys()).map((size) => (
                <button
                  key={size}
                  onClick={() => setSelectedSize(size)}
                  className={`${styles.sizeButton} ${selectedSize === size ? styles.sizeButtonSelected : ""
                    }`}
                >
                  {size}
                </button>
              ))}
            </div>
          </div>

          {/* Action Buttons */}
          <div className={styles.actionButtons}>
            <button className={`${styles.actionButton} ${styles.addToCartButton}`}>
              <svg width="21" height="25" viewBox="0 0 21 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.15 7.70128C6.06017 7.58276 6.00768 7.44017 5.99923 7.29169C5.99078 7.14321 6.02675 6.99558 6.10255 6.86764C6.17836 6.73969 6.29055 6.63722 6.42484 6.57331C6.55912 6.50939 6.7094 6.48693 6.8565 6.50878C7.05326 6.53703 7.23076 6.64224 7.35 6.80128L10.5 11.0013V1.25128C10.5 1.05237 10.579 0.861604 10.7197 0.720952C10.8603 0.580299 11.0511 0.501282 11.25 0.501282C11.4489 0.501282 11.6397 0.580299 11.7803 0.720952C11.921 0.861604 12 1.05237 12 1.25128V11.0013L15.15 6.80128C15.2393 6.68329 15.3615 6.59431 15.5013 6.54549C15.641 6.49668 15.792 6.49021 15.9354 6.5269C16.0788 6.56359 16.2081 6.64179 16.3073 6.75172C16.4064 6.86164 16.4708 6.99838 16.4925 7.14478C16.5065 7.24235 16.5011 7.34173 16.4766 7.43722C16.4522 7.5327 16.4092 7.62244 16.35 7.70128L11.85 13.7013C11.841 13.7133 11.8245 13.7193 11.814 13.7313C11.764 13.7899 11.7054 13.8405 11.64 13.8813C11.6168 13.9008 11.5917 13.9179 11.565 13.9323C11.4672 13.9811 11.3593 14.0066 11.25 14.0066C11.1407 14.0066 11.0328 13.9811 10.935 13.9323C10.9083 13.9179 10.8832 13.9008 10.86 13.8813C10.7946 13.8405 10.736 13.7899 10.686 13.7313C10.6755 13.7193 10.659 13.7133 10.65 13.7013L6.15 7.70128ZM7.125 22.6263C7.1257 22.9972 7.01594 23.3599 6.8097 23.6682C6.60346 23.9765 6.3101 24.2164 5.967 24.3573C5.71094 24.4627 5.43473 24.5102 5.15816 24.4964C4.88158 24.4826 4.61148 24.4078 4.36721 24.2773C4.12294 24.1469 3.91054 23.964 3.74523 23.7419C3.57992 23.5197 3.46578 23.2637 3.411 22.9923C3.35881 22.7353 3.36113 22.4701 3.4178 22.2141C3.47448 21.958 3.58424 21.7166 3.74001 21.5056C3.89578 21.2946 4.09408 21.1186 4.3221 20.989C4.55013 20.8595 4.80281 20.7792 5.06381 20.7533C5.3248 20.7275 5.58832 20.7567 5.83733 20.8391C6.08633 20.9214 6.31529 21.0551 6.5094 21.2315C6.70352 21.4079 6.85847 21.623 6.96425 21.863C7.07003 22.103 7.12428 22.3625 7.1235 22.6248L7.125 22.6263ZM19.125 22.6263C19.1257 22.9972 19.0159 23.3599 18.8097 23.6682C18.6035 23.9765 18.3101 24.2164 17.967 24.3573C17.7109 24.4627 17.4347 24.5102 17.1582 24.4964C16.8816 24.4826 16.6115 24.4078 16.3672 24.2773C16.1229 24.1469 15.9105 23.964 15.7452 23.7419C15.5799 23.5197 15.4658 23.2637 15.411 22.9923C15.3612 22.7363 15.3654 22.4728 15.4233 22.2185C15.4812 21.9642 15.5916 21.7249 15.7473 21.5157C15.903 21.3065 16.1007 21.1322 16.3277 21.0038C16.5547 20.8754 16.806 20.7958 17.0655 20.7701C17.325 20.7445 17.587 20.7732 17.8347 20.8546C18.0825 20.936 18.3105 21.0682 18.5042 21.2428C18.698 21.4174 18.8531 21.6304 18.9597 21.8684C19.0664 22.1064 19.1221 22.364 19.1235 22.6248L19.125 22.6263ZM19.5 8.75128C19.3011 8.75128 19.1103 8.8303 18.9697 8.97095C18.829 9.1116 18.75 9.30237 18.75 9.50128L18 15.5013H4.635L2.985 5.63128C2.95602 5.45692 2.86638 5.29839 2.7319 5.18367C2.59743 5.06896 2.42675 5.00542 2.25 5.00428H0.75C0.551088 5.00428 0.360322 5.0833 0.21967 5.22395C0.0790176 5.3646 0 5.55537 0 5.75428C0 5.95319 0.0790176 6.14396 0.21967 6.28461C0.360322 6.42526 0.551088 6.50428 0.75 6.50428H1.614L3.759 19.3743C3.78697 19.5499 3.87693 19.7098 4.0126 19.8248C4.14826 19.9398 4.32064 20.0024 4.4985 20.0013H17.9985C18.1974 20.0013 18.3882 19.9223 18.5288 19.7816C18.6695 19.641 18.7485 19.4502 18.7485 19.2513C18.7485 19.0524 18.6695 18.8616 18.5288 18.721C18.3882 18.5803 18.1974 18.5013 17.9985 18.5013H5.1285L4.878 17.0013H17.988C18.3535 17.0012 18.7065 16.8676 18.9805 16.6256C19.2545 16.3837 19.4307 16.05 19.476 15.6873L20.238 9.50728C20.238 9.30837 20.159 9.1176 20.0183 8.97695C19.8777 8.8363 19.6869 8.75728 19.488 8.75728L19.5 8.75128Z" fill="white" />
              </svg>
              Add to cart
            </button>
            <button
              className={`${styles.actionButton} ${styles.customizeButton}`}
            >
              <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2 6.5C2 4.995 2.78 3.42 4 2.5C4 3.345 4.69 4.5 6 4.5C6.79565 4.5 7.55871 4.81607 8.12132 5.37868C8.68393 5.94129 9 6.70435 9 7.5C9 7.886 8.921 8.252 8.788 8.591C9.52968 9.17978 10.2601 9.78256 10.979 10.399L8.899 12.479C8.28274 11.76 7.67996 11.0295 7.091 10.288C6.74371 10.426 6.3737 10.4979 6 10.5C3.79 10.5 2 8.71 2 6.5ZM14.152 13.348L15.493 12.007C16.114 12.3266 16.8016 12.4954 17.5 12.5C18.6935 12.5 19.8381 12.0259 20.682 11.182C21.5259 10.3381 22 9.19347 22 8C22 7.275 21.812 6.599 21.507 5.993L18 9.5L16 7.5L19.507 3.993C18.886 3.67344 18.1984 3.50456 17.5 3.5C16.3065 3.5 15.1619 3.97411 14.318 4.81802C13.4741 5.66193 13 6.80653 13 8C13 8.725 13.188 9.401 13.493 10.007L3 20.5L5 22.5L11.848 15.652C13.7321 17.5836 15.7278 19.4031 17.825 21.101L19.25 22.25L20.75 20.75L19.601 19.325C17.9031 17.2278 16.0836 15.2321 14.152 13.348Z" fill="white" />
              </svg>
              <span>Customize</span>
            </button>
          </div>
        </div>
      </div>

      {/* Custom Order Section */}
      <div className={styles.customOrderContainer}>
        <div className={styles.customOrderContent}>
          <img
            src="/illustrations/customOrder.png"
            alt="Custom Order"
            className={styles.customOrderImage}
          />
          <p className={styles.customOrderText}>
            Have Something Special in Mind? Tell Us What You Need!
          </p>
        </div>
        <div className={styles.customOrderInputContainer}>
          <input
            type="text"
            placeholder="Send request to maker"
            className={styles.customOrderInput}
          />
          <button className={styles.customOrderButton}>
          <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M22.6406 0.542227C22.923 0.743982 23.0385 1.01299 22.9872 1.34924L19.7014 20.7177C19.6587 20.9615 19.5217 21.1506 19.2907 21.2851C19.1709 21.3524 19.0383 21.386 18.8928 21.386C18.7987 21.386 18.696 21.365 18.5848 21.3229L11.8209 18.6119L7.99608 22.7352C7.84206 22.9117 7.64098 23 7.39284 23C7.27305 23 7.17465 22.9832 7.09764 22.9496C6.93507 22.8907 6.80672 22.792 6.7126 22.6532C6.61848 22.5145 6.57142 22.3611 6.57142 22.193V16.4934L0.513381 14.0598C0.196789 13.9421 0.0256577 13.7109 -1.19316e-05 13.3662C-0.0256816 13.0384 0.111223 12.7904 0.410702 12.6223L21.7678 0.517008C22.0673 0.340473 22.3582 0.348879 22.6406 0.542227ZM18.2511 19.4441L21.0876 2.76153L2.68247 13.1897L6.99497 14.9172L18.0714 6.85966L11.9364 16.9096L18.2511 19.4441Z" fill="white"/>
</svg>



          </button>
        </div>
      </div>
    </>
  );
}